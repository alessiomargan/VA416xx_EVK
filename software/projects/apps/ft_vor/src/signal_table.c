/**
 * @file signal_table.c
 * @brief Sine and triangle lookup tables
 *
 * @author Alessio Margan
 * @date February 4, 2026
 *
 * @version 1.0
 *
 * @copyright Copyright (c) 2026 IIT
 */

#include "signal_table.h"

/**
 * @brief Sine lookup table with 256 samples
 *
 * Each value is calculated as: 2048 + 2047 * sin(2 * PI * i / 256)
 * - Center value: 2048 (mid-scale for 12-bit DAC)
 * - Amplitude: 2047 (max swing for 12-bit)
 * - Range: 1 to 4095 (stays within 12-bit limits)
 */
const uint16_t sine_table[SIGNAL_TABLE_SIZE] = {
    2048, 2098, 2148, 2198, 2248, 2298, 2348, 2398,  // 0-7
    2447, 2496, 2545, 2594, 2642, 2690, 2737, 2784,  // 8-15
    2831, 2877, 2923, 2968, 3013, 3057, 3100, 3143,  // 16-23
    3185, 3226, 3267, 3307, 3346, 3385, 3423, 3459,  // 24-31
    3495, 3530, 3565, 3598, 3630, 3662, 3692, 3722,  // 32-39
    3750, 3777, 3804, 3829, 3853, 3876, 3898, 3919,  // 40-47
    3939, 3958, 3975, 3992, 4007, 4020, 4033, 4045,  // 48-55
    4055, 4065, 4073, 4080, 4085, 4089, 4093, 4095,  // 56-63
    4095, 4095, 4093, 4089, 4085, 4080, 4073, 4065,  // 64-71
    4055, 4045, 4033, 4020, 4007, 3992, 3975, 3958,  // 72-79
    3939, 3919, 3898, 3876, 3853, 3829, 3804, 3777,  // 80-87
    3750, 3722, 3692, 3662, 3630, 3598, 3565, 3530,  // 88-95
    3495, 3459, 3423, 3385, 3346, 3307, 3267, 3226,  // 96-103
    3185, 3143, 3100, 3057, 3013, 2968, 2923, 2877,  // 104-111
    2831, 2784, 2737, 2690, 2642, 2594, 2545, 2496,  // 112-119
    2447, 2398, 2348, 2298, 2248, 2198, 2148, 2098,  // 120-127
    2048, 1998, 1948, 1898, 1848, 1798, 1748, 1698,  // 128-135
    1649, 1600, 1551, 1502, 1454, 1406, 1359, 1312,  // 136-143
    1265, 1219, 1173, 1128, 1083, 1039,  996,  953,  // 144-151
     911,  870,  829,  789,  750,  711,  673,  637,  // 152-159
     601,  566,  531,  498,  466,  434,  404,  374,  // 160-167
     346,  319,  292,  267,  243,  220,  198,  177,  // 168-175
     157,  138,  121,  104,   89,   76,   63,   51,  // 176-183
      41,   31,   23,   16,   11,    7,    3,    1,  // 184-191
       1,    1,    3,    7,   11,   16,   23,   31,  // 192-199
      41,   51,   63,   76,   89,  104,  121,  138,  // 200-207
     157,  177,  198,  220,  243,  267,  292,  319,  // 208-215
     346,  374,  404,  434,  466,  498,  531,  566,  // 216-223
     601,  637,  673,  711,  750,  789,  829,  870,  // 224-231
     911,  953,  996, 1039, 1083, 1128, 1173, 1219,  // 232-239
    1265, 1312, 1359, 1406, 1454, 1502, 1551, 1600,  // 240-247
    1649, 1698, 1748, 1798, 1848, 1898, 1948, 1998   // 248-255
};

/**
 * @brief Triangle lookup table with 256 samples
 *
 * - Center value: 2048 (mid-scale for 12-bit DAC)
 * - Amplitude: 2047 (max swing for 12-bit)
 * - Range: 1 to 4095 (stays within 12-bit limits)
 */
const uint16_t triangle_table[SIGNAL_TABLE_SIZE] = {
    1, 33, 65, 97, 129, 161, 193, 225,
    257, 289, 321, 353, 385, 417, 449, 481,
    513, 545, 577, 609, 641, 673, 705, 737,
    769, 801, 833, 865, 897, 929, 961, 993,
    1025, 1057, 1089, 1121, 1153, 1185, 1217, 1249,
    1281, 1313, 1345, 1377, 1409, 1441, 1473, 1505,
    1537, 1569, 1601, 1633, 1665, 1697, 1729, 1761,
    1793, 1825, 1857, 1889, 1921, 1953, 1985, 2017,
    2049, 2081, 2113, 2145, 2177, 2209, 2241, 2273,
    2305, 2337, 2369, 2401, 2433, 2465, 2497, 2529,
    2561, 2593, 2625, 2657, 2689, 2721, 2753, 2785,
    2817, 2849, 2881, 2913, 2945, 2977, 3009, 3041,
    3073, 3105, 3137, 3169, 3201, 3233, 3265, 3297,
    3329, 3361, 3393, 3425, 3457, 3489, 3521, 3553,
    3585, 3617, 3649, 3681, 3713, 3745, 3777, 3809,
    3841, 3873, 3905, 3937, 3969, 4001, 4033, 4065,
    4095, 4063, 4031, 3999, 3967, 3935, 3903, 3871,
    3839, 3807, 3775, 3743, 3711, 3679, 3647, 3615,
    3583, 3551, 3519, 3487, 3455, 3423, 3391, 3359,
    3327, 3295, 3263, 3231, 3199, 3167, 3135, 3103,
    3071, 3039, 3007, 2975, 2943, 2911, 2879, 2847,
    2815, 2783, 2751, 2719, 2687, 2655, 2623, 2591,
    2559, 2527, 2495, 2463, 2431, 2399, 2367, 2335,
    2303, 2271, 2239, 2207, 2175, 2143, 2111, 2079,
    2047, 2015, 1983, 1951, 1919, 1887, 1855, 1823,
    1791, 1759, 1727, 1695, 1663, 1631, 1599, 1567,
    1535, 1503, 1471, 1439, 1407, 1375, 1343, 1311,
    1279, 1247, 1215, 1183, 1151, 1119, 1087, 1055,
    1023, 991, 959, 927, 895, 863, 831, 799,
    767, 735, 703, 671, 639, 607, 575, 543,
    511, 479, 447, 415, 383, 351, 319, 287,
    255, 223, 191, 159, 127, 95, 63, 31
};